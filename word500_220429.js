const height=8,width=5,keys=["US","Q","W","E","R","T","Y","U","I","O","P","Hint","A","S","D","F","G","H","J","K","L","Back","Z","X","C","V","B","N","M","Spec","Enter"],langs=["en","es","de","fr","nl","it","pt","ca"],levels=["A","B","C"],months=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],unicode=["0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣"],scores=[5,14,23,32,41,50,104,113,122,131,140,203,212,221,230,302,311,320,401,500],images=["[img]https://i.imgur.com/0c2lKKh.png[/img]","[img]https://i.imgur.com/paF8Sh6.png[/img]","[img]https://i.imgur.com/2O1Qm19.png[/img]","[img]https://i.imgur.com/4ucdC3a.png[/img]","[img]https://i.imgur.com/Sa9AIcc.png[/img]","[img]https://i.imgur.com/kPBI1Kz.png[/img]","[img]https://i.imgur.com/tWgHHT8.png[/img]","[img]https://i.imgur.com/7k3mS1g.png[/img]","[img]https://i.imgur.com/5h03xRO.png[/img]","[img]https://i.imgur.com/7ujEqX2.png[/img]","[img]https://i.imgur.com/9UQxBFD.png[/img]","[img]https://i.imgur.com/jXOkIAB.png[/img]","[img]https://i.imgur.com/AADAyBn.png[/img]","[img]https://i.imgur.com/kD5xP7n.png[/img]","[img]https://i.imgur.com/iTag8dr.png[/img]","[img]https://i.imgur.com/CxYALRI.png[/img]","[img]https://i.imgur.com/FvHAHhZ.png[/img]","[img]https://i.imgur.com/7Npvl37.png[/img]","[img]https://i.imgur.com/I2CbsCa.png[/img]","[img]https://i.imgur.com/uZLvzs7.png[/img]"];let gameRunning,gameStart,gamesWon,lang,level,exclude,word,words,wordlist,stopwatch,row=0,col=0,gameOver=!1,hintsUsed=0,mode="A",guesses=["","","","","","","","","",""];function ini(){for(let e=0;e<height;e++)for(let t=0;t<width+3;t++){let l=document.createElement("span");l.id=e.toString()+"-"+t.toString(),l.classList.add("tile"),l.innerText="",t<width&&(l.addEventListener("click",()=>cB(e,t)),l.classList.add("clickable")),document.getElementById("divboard").appendChild(l)}if(keys.forEach(e=>{const t=document.createElement("button");t.setAttribute("id",e),t.classList.add("clickable"),t.addEventListener("click",()=>handleClick(e)),divkeyboard.append(t),"Spec"==e?lllll():t.textContent="US"==e?"_":e}),l1lll("Enter"),l1lll("Back"),null==(lang=up("lang"))?(null==(lang=localStorage.getItem("word500lang"))&&(lang="en"),null==(level=localStorage.getItem("word500level"))&&(level="A")):(level="C",gwl(),word=pu(up("word"))),rg(),cle(level),cla(lang),clm(mode),l1ll1(),"D"!==mode){let e=new Date,t=e.getUTCDate()+"-"+(parseInt(e.getUTCMonth())+1).toString()+"-"+e.getFullYear(),l=localStorage.getItem("word500date");null==l?(localStorage.setItem("word500date",t),ll1l1(t),word=llll1(localStorage.getItem(lang+level+"word"))):t==l?rtr():(ll1ll(),ll1l1(t),localStorage.setItem("word500date",t),word=llll1(localStorage.getItem(lang+level+"word")))}document.getElementById("flagen").addEventListener("click",()=>flag_Click("en")),document.getElementById("flages").addEventListener("click",()=>flag_Click("es")),document.getElementById("flagde").addEventListener("click",()=>flag_Click("de")),document.getElementById("flagfr").addEventListener("click",()=>flag_Click("fr")),document.getElementById("flagpt").addEventListener("click",()=>flag_Click("pt")),document.getElementById("flagit").addEventListener("click",()=>flag_Click("it")),document.getElementById("flagnl").addEventListener("click",()=>flag_Click("nl")),document.getElementById("flagca").addEventListener("click",()=>flag_Click("ca")),document.getElementById("levelA").addEventListener("click",()=>level_Click("A")),document.getElementById("levelB").addEventListener("click",()=>level_Click("B")),document.getElementById("levelC").addEventListener("click",()=>level_Click("C")),document.getElementById("modeA").addEventListener("click",()=>mode_Click("A")),document.getElementById("modeB").addEventListener("click",()=>mode_Click("B")),document.getElementById("modeC").addEventListener("click",()=>mode_Click("C")),document.getElementById("btnstats").addEventListener("click",()=>stats_Click()),document.getElementById("closestatspage").addEventListener("click",()=>stats_Close()),document.getElementById("btnconstruct").addEventListener("click",()=>link_Click()),document.getElementById("closelinkpage").addEventListener("click",()=>link_Close()),document.addEventListener("keyup",e=>{gameOver||("Backspace"==e.code?deleteLetter():"Enter"==e.code&&ll11l())}),document.addEventListener("keypress",e=>{gameOver||(65<=e.keyCode&&e.keyCode<=90&&lll11(String.fromCharCode(e.keyCode)),97<=e.keyCode&&e.keyCode<=122&&lll11(String.fromCharCode(e.keyCode-32)),209!=e.keyCode&&241!=e.keyCode||lll11(String.fromCharCode(209)),199!=e.keyCode&&231!=e.keyCode||lll11(String.fromCharCode(199)),95!=e.keyCode&&45!=e.keyCode||lll11(String.fromCharCode(95)))})}function pu(e){if(10==e.length){let t=e.charCodeAt(0)%5;if(ll111(word=llll1(e.substring(t+1,t+6))))return mode="D",console.log("Start custom game"),word;console.log("Unable to process custom word")}return console.log("Initiate standard mode"),mode="A",null==(lang=localStorage.getItem("word500lang"))&&(lang="en"),null==(level=localStorage.getItem("word500level"))&&(level="A"),gwl(),"NONE"}window.onload=function(){ini()};const gwl=()=>{"en"==lang&&(exclude=en0,words="A"==level?en1:"B"==level?en1.concat(en2):en1.concat(en2,en3),wordlist=en1.concat(en2,en3,en4)),"es"==lang&&(exclude=es0,words="A"==level?es1:"B"==level?es1.concat(es2):es1.concat(es2,es3),wordlist=es1.concat(es2,es3,es4)),"nl"==lang&&(exclude=nl0,words="A"==level?nl1:"B"==level?nl1.concat(nl2):nl1.concat(nl2,nl3),wordlist=nl1.concat(nl2,nl3,nl4)),"ca"==lang&&(exclude=ca0,words="A"==level?ca1:"B"==level?ca1.concat(ca2):ca1.concat(ca2,ca3),wordlist=ca1.concat(ca2,ca3,ca4)),"de"==lang&&(exclude=de0,words="A"==level?de1:"B"==level?de1.concat(de2):de1.concat(de2,de3),wordlist=de1.concat(de2,de3,de4)),"fr"==lang&&(exclude=fr0,words="A"==level?fr1:"B"==level?fr1.concat(fr2):fr1.concat(fr2,fr3),wordlist=fr1.concat(fr2,fr3,fr4)),"pt"==lang&&(exclude=pt0,words="A"==level?pt1:"B"==level?pt1.concat(pt2):pt1.concat(pt2,pt3),wordlist=pt1.concat(pt2,pt3,pt4)),"it"==lang&&(exclude=it0,words="A"==level?it1:"B"==level?it1.concat(it2):it1.concat(it2,it3),wordlist=it1.concat(it2,it3,it4))},lllll=()=>{const e=document.getElementById("Spec");"en"!=lang&&"nl"!=lang&&"de"!=lang&&"it"!=lang||(e.classList.add("hiddenKey"),document.getElementById("Back").classList.remove("specialKey")),"ca"!=lang&&"fr"!=lang&&"pt"!=lang||(e.classList.contains("hiddenKey")&&e.classList.remove("hiddenKey"),e.textContent=String.fromCharCode(199),document.getElementById("Back").classList.add("specialKey")),"es"==lang&&(e.classList.contains("hiddenKey")&&e.classList.remove("hiddenKey"),e.textContent=String.fromCharCode(209),document.getElementById("Back").classList.add("specialKey"))},l1ll1=()=>{"A"==level?exclude.forEach(e=>{l1lll(e)}):exclude.forEach(e=>{l1l1l(e)})},rtr=()=>{word=llll1(localStorage.getItem(lang+level+"word")),hintsUsed=parseInt(localStorage.getItem(lang+level+"hints")),"Yes"==localStorage.getItem(lang+level+"gameover")&&(gameOver=!0);for(let e=0;e<height;e++){if(guesses[e]=localStorage.getItem(lang+level+"guess"+e.toString()),null==guesses[e]){0==(row=e)?l1lll("Hint"):l1l1l("Hint");break}wwd(guesses[e],e),wru(l1l11(guesses[e],word),e),invalidateLetters(e)}},ll1ll=()=>{levels.forEach(e=>{langs.forEach(t=>{localStorage.removeItem(t+e+"hints"),localStorage.removeItem(t+e+"gameover"),localStorage.removeItem(t+e+"word");for(let l=0;l<height;l++)localStorage.removeItem(t+e+"guess"+l.toString())})})},rg=()=>{for(let e=0;e<height;e++)for(let t=0;t<width+3;t++){let l=document.getElementById(e.toString()+"-"+t.toString());l.innerText="",t<width&&(l.classList.remove("flip"),l.classList.remove("red"),l.classList.remove("yellow"),l.classList.remove("green"))}keys.forEach(e=>{"Enter"==e||"Hint"==e||"Back"==e?l1lll(e):l1l1l(e)});for(let e=0;e<width;e++)if(row<8){let t=document.getElementById(row.toString()+"-"+e.toString());t.classList.remove("invalidWord"),t.classList.add("validWord")}row=0,col=0,gameOver=!1,hintsUsed=0,guesses=["","","","","","","","","",""]},ll1l1=e=>{let t=weekDates.findIndex(t=>t==e);if(-1==t)alert("Houston, we have a problem! No new words have been uploaded from the server. Try again later.");else{let e=weekWords[t],l=0;langs.forEach(t=>{levels.forEach(n=>{localStorage.setItem(t+n+"hints","0"),localStorage.setItem(t+n+"gameover","No"),localStorage.setItem(t+n+"word",e[l]),l+=1})})}},cB=(e,t)=>{if(e<row&&!gameOver){let l=document.getElementById(e.toString()+"-"+t.toString()).classList;l.contains("yellow")?(l.remove("yellow"),l.add("green")):l.contains("red")?(l.remove("red"),l.add("yellow")):l.contains("green")?l.remove("green"):l.add("red")}},handleClick=e=>{if(document.getElementById("Enter").focus(),!gameOver){if("Back"==e)return void deleteLetter();if("Hint"==e){if(row>0&&("A"==mode||"D"==mode)){if(0==hintsUsed){if(!confirm("This will generate a random word, that fits your previous guesses.\r\nThe game will count as a loss and your streak resets to 0!\r\nDo you want to proceed, oh lazy one?"))return}guesses[row]=lll1l(),wwd(guesses[row],row),col=5,hintsUsed+=1,localStorage.setItem(lang+level+"hints",hintsUsed.toString()),ll11l()}return}if("Enter"==e)return void ll11l();if("Spec"==e)return void lll11(document.getElementById("Spec").textContent);if("US"==e)return void lll11("_");lll11(e)}},lll11=e=>{if(gameRunning||"B"!=mode&&"C"!=mode||(gameRunning=!0,gameStart=new Date,stopwatch=setInterval(ti,1e3)),col<width){let t=document.getElementById(row.toString()+"-"+col.toString());if(""==t.innerText&&(t.innerText=e,1==(col+=1)&&l1l1l("Back"),col==width)){let e=rw(row);if(e.includes("_"))return;if(ll111(e))l1l1l("Enter");else for(let e=0;e<width;e++){let t=document.getElementById(row.toString()+"-"+e.toString());t.classList.remove("validWord"),t.classList.add("invalidWord")}}}},flag_Click=e=>{lang!=e&&(cla(e),gwl(),rg(),l1ll1(),rtr(),stats_Close())},cla=e=>{if(lang=e,document.getElementById("btnFlag").src="images/"+lang+".png",document.getElementById("helplink").href="help"+lang+".html",localStorage.setItem("word500lang",lang),lllll(),"en"==lang){exclude=en0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- No repeat letters\n- No "+e,document.getElementById("levelBtext").innerText="- No repeat letters",document.getElementById("levelCtext").innerText="- Anything goes!"}if("es"==lang){exclude=es0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Sin letras repetidas\n- Sin "+e,document.getElementById("levelBtext").innerText="- Sin letras repetidas",document.getElementById("levelCtext").innerText="- Todo es posible!"}if("nl"==lang){exclude=nl0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Zonder dubbele letters\n- Zonder "+e,document.getElementById("levelBtext").innerText="- Zonder dubbele letters",document.getElementById("levelCtext").innerText="- Alles kan!"}if("ca"==lang){exclude=ca0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Sense lletres repetides\n- Sense "+e,document.getElementById("levelBtext").innerText="- Sense lletres repetides",document.getElementById("levelCtext").innerText="- Tot es possible!"}if("de"==lang){exclude=de0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- 5 verschiedene Buchstaben\n- Ohne "+e,document.getElementById("levelBtext").innerText="- 5 verschiedene Buchstaben",document.getElementById("levelCtext").innerText="- Alles ist möglich!"}if("fr"==lang){exclude=fr0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Pas de lettres répétitives\n- Pas de "+e,document.getElementById("levelBtext").innerText="- Pas de lettres répétitives",document.getElementById("levelCtext").innerText="- Tout est possible!"}if("pt"==lang){exclude=pt0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Sem repetir letras\n- Sem "+e,document.getElementById("levelBtext").innerText="- Sem repetir letras",document.getElementById("levelCtext").innerText="- Tudo é possível!"}if("it"==lang){exclude=it0;let e="";exclude.forEach(t=>{e+=t}),document.getElementById("levelAtext").innerText="- Senza lettere ripetute\n- Senza "+e,document.getElementById("levelBtext").innerText="- Senza lettere ripetute",document.getElementById("levelCtext").innerText="- Tutto è possibile!"}},level_Click=e=>{level!=e&&(gwl(),cle(e),rg(),l1ll1(),rtr(),stats_Close())},cle=e=>{document.getElementById("btnLevel").src="images/"+e+".png",level=e,localStorage.setItem("word500level",level)},mode_Click=e=>{mode!=e&&(clm(e),rg(),clearInterval(stopwatch),l1ll1(),"A"==mode&&(rtr(),document.getElementById("title").innerText="Word500"),"B"==mode&&startTimed(),"C"==mode&&startSpeedrun())},startTimed=()=>{null==localStorage.getItem(lang+level+"timed")&&alert("Play a timed practice game\nYou have 5 minutes\nAnimations are turned off\nDo not refresh your browser!"),document.getElementById("title").innerText="00:00",word=llll1(words[Math.ceil(words.length*Math.random())]),console.log(word),gameRunning=!1},startSpeedrun=()=>{null==localStorage.getItem(lang+level+"speedrun")&&alert("Play 10 games ASAP\nAnimations are turned off\nDo not refresh your browser\nBeware of fried brains!"),document.getElementById("title").innerText="00:00 (0/10)",word=llll1(words[Math.ceil(words.length*Math.random())]),console.log(word),gamesWon=0,gameRunning=!1},clm=e=>{document.getElementById("btnMode").src="images/mode"+e+".png",mode=e},l1lll=e=>{"Ñ"!=e&&"Ç"!=e||(e="Spec");const t=document.getElementById(e);t.classList.remove("unusedKey"),t.classList.add("usedKey")};function ll111(e){return wordlist.includes(l11ll(e))}const l1l1l=e=>{"Ñ"!=e&&"Ç"!=e||(e="Spec");let t=document.getElementById(e);t.classList.remove("usedKey"),t.classList.add("unusedKey")},wwd=(e,t)=>{for(let l=0;l<width;l++){document.getElementById(t.toString()+"-"+l.toString()).innerText=e[l]}},wru=(e,t)=>{if(e=e>100?e.toString():e>10?"0"+e.toString():"005","A"==mode||"D"==mode)for(let l=width;l<width+3;l++){let n=document.getElementById(t.toString()+"-"+l.toString());setTimeout(()=>{n.classList.add("flip")},500*(l-width)),setTimeout(()=>{n.innerText=e[l-width]},500*(l-width)+250),setTimeout(()=>{n.classList.remove("flip")},500*(l-width)+500)}else for(let l=width;l<width+3;l++)document.getElementById(t.toString()+"-"+l.toString()).innerText=e[l-width]};function rw(e){let t="";for(let l=0;l<width;l++)t+=document.getElementById(e.toString()+"-"+l.toString()).innerText;return t}const invalidateLetters=e=>{for(let t=0;t<width;t++){let l=document.getElementById(e.toString()+"-"+t.toString());l1lll(l.innerText)}},deleteLetter=()=>{0<col&&col<=width&&(col-=1),col==width-1&&l1lll("Enter"),0==col&&l1lll("Back"),document.getElementById(row.toString()+"-"+col.toString()).innerText="";for(let e=0;e<width;e++){let t=document.getElementById(row.toString()+"-"+e.toString());t.classList.remove("invalidWord"),t.classList.add("validWord")}},ll11l=()=>{if(col<5)return;let e=rw(row);if(!ll111(e))return;let t=l1l11(word,e);for(;"B"==mode&&0==row&&(t<10||t>205||41==t);)t=l1l11(word=llll1(words[Math.ceil(words.length*Math.random())]),e);if(invalidateLetters(row),guesses[row]=e,"A"==mode&&localStorage.setItem(lang+level+"guess"+row.toString(),e),l1lll("Back"),l1lll("Enter"),wru(t,row),5==t){let e=0;"A"!=mode&&"D"!=mode||(e=1500);for(let t=0;t<width;t++){let l=row;setTimeout(()=>{document.getElementById(l.toString()+"-"+t.toString()).classList.add("red")},e)}for(let t=0;t<width;t++)for(let l=0;l<row;l++)console.log(guesses[row]+" "+document.getElementById(l.toString()+"-"+t.toString()).innerText),guesses[row].includes(document.getElementById(l.toString()+"-"+t.toString()).innerText)&&setTimeout(()=>{document.getElementById(l.toString()+"-"+t.toString()).classList.remove("yellow"),document.getElementById(l.toString()+"-"+t.toString()).classList.remove("green"),document.getElementById(l.toString()+"-"+t.toString()).classList.add("red")},e)}if(500==t){if("A"==mode&&(gameOver=!0,localStorage.setItem(lang+level+"gameover","Yes")),"D"==mode&&(gameOver=!0),hintsUsed>0&&"A"==mode){localStorage.setItem(lang+level+"currentstreak","0");let e=localStorage.getItem(lang+level+"lost");null==e?localStorage.setItem(lang+level+"lost","1"):localStorage.setItem(lang+level+"lost",(1+parseInt(e)).toString())}else if("A"==mode){let e=localStorage.getItem(lang+level+"wins");if(null==e)localStorage.setItem(lang+level+"wins","1"),localStorage.setItem(lang+level+"currentstreak","1"),localStorage.setItem(lang+level+"maxstreak","1"),localStorage.setItem(lang+level+(1+row).toString(),"1");else{let t=localStorage.getItem(lang+level+"currentstreak"),l=localStorage.getItem(lang+level+"maxstreak"),n=localStorage.getItem(lang+level+(1+row).toString());localStorage.setItem(lang+level+"wins",(1+parseInt(e)).toString()),localStorage.setItem(lang+level+"currentstreak",(1+parseInt(t)).toString()),t==l&&localStorage.setItem(lang+level+"maxstreak",(1+parseInt(l)).toString()),null==n?localStorage.setItem(lang+level+(1+row).toString(),"1"):localStorage.setItem(lang+level+(1+row).toString(),(1+parseInt(n)).toString())}}else{if("B"==mode){let e=new Date-gameStart;clearInterval(stopwatch),document.getElementById("title").innerText=writetime(e,!0),gameOver=!0,gameRunning=!1;let t=localStorage.getItem(lang+level+"timed");return null==t&&localStorage.setItem(lang+level+"timed",e.toString()),void(e<t&&(alert("New personal best!"),localStorage.setItem(lang+level+"timed",e.toString())))}if("C"==mode){if(10==(gamesWon+=1)){let e=new Date-gameStart;clearInterval(stopwatch),document.getElementById("title").innerText=writetime(e,!0),gameOver=!0;let t=localStorage.getItem(lang+level+"speedrun");null==t&&localStorage.setItem(lang+level+"speedrun",e.toString()),e<t&&(alert("New personal best!"),localStorage.setItem(lang+level+"speedrun",e.toString()))}else document.getElementById("title").innerText=document.getElementById("title").innerText.substring(0,7)+gamesWon.toString()+"/10)",rg(),word=llll1(words[Math.ceil(words.length*Math.random())]),console.log(word);return}}setTimeout(()=>{if(hintsUsed>0)sm(hintsUsed==row?"Mashing that Hints button is fun!":1==hintsUsed?"Solved, pity you used that one hint":"Solved, next time, try without hints");else switch(row){case 0:sm("Are you Chuck Norris?");break;case 1:sm("You lucky skunk!");break;case 2:sm("Amazing!");break;case 3:sm("Excellent!");break;case 4:sm("Splendid!");break;case 5:sm("Very good!");break;case 6:sm("You did it!");break;case 7:sm("Nice! That was close!")}1==(row+=1)&&l1l1l("Hint")},1500),setTimeout(()=>{ab()},4e3)}else 1==(row+=1)&&"A"==mode&&l1l1l("Hint");if(col=0,gameOver||row!=height||"A"!=mode)gameOver||row!=height||"C"!=mode?gameOver||row!=height||"B"!=mode?gameOver||row!=height||"D"!=mode||(gameOver=!0,sm("Game over! The word was "+word),ab()):(gameOver=!0,clearInterval(stopwatch),sm("Game over! The word was "+word),ab()):(rg(),word=llll1(words[Math.ceil(words.length*Math.random())]),console.log(word));else{gameOver=!0,localStorage.setItem(lang+level+"gameover","Yes"),localStorage.setItem(lang+level+"currentstreak","0");let e=localStorage.getItem(lang+level+"lost");null==e?localStorage.setItem(lang+level+"lost","1"):localStorage.setItem(lang+level+"lost",(1+parseInt(e)).toString()),sm("Game over! The word was "+word),ab()}};function l1l11(e,t){let l=width;for(let n=0;n<width;n++)e[n]==t[n]&&(l+=99,e=e.substring(0,n)+"$"+e.substring(n+1,width),t=t.substring(0,n)+"%"+t.substring(n+1,width));for(let n=0;n<width;n++)for(let o=0;o<width;o++)e[n]==t[o]&&(l+=9,e=e.substring(0,n)+"$"+e.substring(n+1,width),t=t.substring(0,o)+"%"+t.substring(o+1,width));return l}function llll1(e){let t,l="";for(let n=0;n<5;n++)l=(t=e.charCodeAt(n))>100?String.fromCharCode(408-t)+l:String.fromCharCode(90-(95-t-n)%26)+l;return l}function lll1l(){if(col==width){let e=rw(row);if(!e.includes("_")&&!ll111(e))for(let e=0;e<width;e++){let t=document.getElementById(row.toString()+"-"+e.toString());t.classList.remove("invalidWord"),t.classList.add("validWord")}}let e=!0;for(let t=0;t<words.length;t++){e=!0;for(let l=0;l<row;l++)l1l11(guesses[l],llll1(words[t]))!==l1l11(guesses[l],word)&&(e=!1);if(e&&word!==llll1(words[t]))return llll1(words[t])}return word}const sm=e=>{const t=document.getElementById("title");t.innerText=e,setTimeout(()=>t.innerText="Word500",4e3)},ab=()=>{for(let e=0;e<row;e++)for(let t=0;t<width;t++)setTimeout(()=>{document.getElementById(e.toString()+"-"+t.toString()).classList.add("flip")},200*t+1e3*e);setTimeout(()=>{stats_Click()},1e3*row+500);for(let e=0;e<row;e++){let t=guesses[e],l=word;for(let n=0;n<width;n++)t[n]==l[n]&&(setTimeout(()=>{document.getElementById(e.toString()+"-"+n.toString()).classList.remove("yellow"),document.getElementById(e.toString()+"-"+n.toString()).classList.remove("red"),document.getElementById(e.toString()+"-"+n.toString()).classList.add("green")},200*n+1e3*e+250),t=t.substring(0,n)+"$"+t.substring(n+1,width),l=l.substring(0,n)+"%"+l.substring(n+1,width));for(let n=0;n<width;n++)for(let o=0;o<width;o++)t[n]==l[o]&&(setTimeout(()=>{document.getElementById(e.toString()+"-"+n.toString()).classList.remove("red"),document.getElementById(e.toString()+"-"+n.toString()).classList.remove("green"),document.getElementById(e.toString()+"-"+n.toString()).classList.add("yellow")},200*n+1e3*e+250),t=t.substring(0,n)+"$"+t.substring(n+1,width),l=l.substring(0,o)+"%"+l.substring(o+1,width));for(let l=0;l<width;l++)"$"!==t[l]&&setTimeout(()=>{document.getElementById(e.toString()+"-"+l.toString()).classList.remove("yellow"),document.getElementById(e.toString()+"-"+l.toString()).classList.remove("green"),document.getElementById(e.toString()+"-"+l.toString()).classList.add("red")},200*l+1e3*e+250)}},stats_Click=()=>{document.getElementById("statspage").style.display="block",showstats(),gameOver?(document.getElementById("sharetext").style.display="block",document.getElementById("sharebuttons").style.display="block"):(document.getElementById("sharetext").style.display="none",document.getElementById("sharebuttons").style.display="none")},stats_Close=()=>{document.getElementById("statspage").style.display="none"},link_Click=()=>{if(""==document.getElementById("0-4").innerText)document.getElementById("customwordlabel").innerText="No valid word has been written";else{let e=rw(0);ll111(e)&&!e.includes("_")?(document.getElementById("customwordlabel").innerText="The custom secret word is "+e+"\n\nCopy the below URL and send it to your friend(s)!",document.getElementById("customword").innerText="https://word500.com?lang="+c2u(e)):document.getElementById("customwordlabel").innerText="No valid word has been written"}document.getElementById("createlink").style.display="block",document.getElementById("customword").select()},link_Close=()=>{document.getElementById("createlink").style.display="none"},c2u=e=>{let t=llll1(e),l=l11ll(e),n=t.charCodeAt(0)%5,o=t.substring(0,n+1)+l+t.substring(n+1);return lang+"&word="+o};function showstats(){let e,t=0,l=0,n=0,o=0,r=[0,0,0,0,0,0,0,0,0],i=0,d="N/A",s="N/A",a=localStorage.getItem("word500level");null==a&&(a="A");let g=localStorage.getItem("word500lang");null==g&&(g="en");let c=localStorage.getItem(g+a+"wins");null!==c&&(t=parseInt(c)),null!==(c=localStorage.getItem(g+a+"lost"))&&(l=parseInt(c)),null!==(c=localStorage.getItem(g+a+"currentstreak"))&&(o=parseInt(c)),null!==(c=localStorage.getItem(g+a+"maxstreak"))&&(n=parseInt(c)),null!==(c=localStorage.getItem(g+a+"timed"))&&(d=writetime(parseInt(c),!0)),null!==(c=localStorage.getItem(g+a+"speedrun"))&&(s=writetime(parseInt(c),!0));let m=t+l;e=0==m?"Word500 virgin":m<10?"Word500 starter":m<25?"Word500 adept":m<50?"Word500 veteran":m<100?"Word500 expert":m<1e3?"Word500 superstar":"Word500 bot or hacker (or both)",m>0&&(i=(Math.round(1e3*t/m)/10).toString()+"%");for(let e=1;e<9;e++){let t=localStorage.getItem(g+a+e.toString());r[e]=null==t?0:parseInt(t)}for(let e=1;e<9;e++)document.getElementById("bartext"+e.toString()).innerText=r[e].toString(),document.getElementById("barfill"+e.toString()).style.width=Math.round(100*r[e]/t).toString()+"%";document.getElementById("flag").src="images/"+g+".png",document.getElementById("level").src="images/"+a+".png",document.getElementById("played").innerText="Games played: "+m.toString(),document.getElementById("status").innerText="Status: "+e,document.getElementById("win").innerText="Win percentage: "+i,document.getElementById("streak").innerText="Current streak: "+o.toString(),document.getElementById("max").innerText="Max streak: "+n.toString(),document.getElementById("timed").innerText="Timed PR: "+d,document.getElementById("speedrun").innerText="Speedrun PR: "+s}function l11ll(e){let t,l="";for(let n=0;n<5;n++)l=(t=e.charCodeAt(n))>100?String.fromCharCode(408-t)+l:String.fromCharCode(65+(t+n-64)%26)+l;return l}function cd(){let e,t=new Date,l=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds();o=(60-o)%60,n=(60-n-Math.ceil(o/60))%60,e=(l=24-l-Math.ceil((o+n)/120))<10?"0"+l.toString():l.toString(),e=n<10?e+":0"+n.toString():e+":"+n.toString(),e=o<10?e+":0"+o.toString():e+":"+o.toString(),document.getElementById("timer").innerText=gameOver?"Next Word500 in "+e:""}function ti(){let e=new Date-gameStart,t=Math.floor(e/6e4);"B"==mode&&5==t?(gameOver=!0,document.getElementById("title").innerText="Time is up! The word was "+word,clearInterval(stopwatch)):document.getElementById("title").innerText="B"==mode?writetime(e,!1):writetime(e,!1)+" ("+gamesWon.toString()+"/10)"}function writetime(e,t){let l,n=Math.floor(e/6e4);l=n<10?"0"+n.toString():n.toString();let o=Math.floor(e/1e3)%60;if(l=o<10?l+":0"+o.toString():l+":"+o.toString(),t){let t=e%1e3;l=t>99?l+"."+t.toString():t>9?l+".0"+t.toString():l+".00"+t.toString()}return l}function cc(e){let t,l="";word=llll1(localStorage.getItem(lang+level+"word")),hintsUsed=parseInt(localStorage.getItem(lang+level+"hints"));for(let t=0;t<height;t++){if(guesses[t]=localStorage.getItem(lang+level+"guess"+t.toString()),null==guesses[t]){row=t;break}if("I"==e){let e=l1l11(guesses[t],word),n=scores.findIndex(t=>t==e);l=l+images[n]+"\n"}if("P"==e){let e=l1l11(guesses[t],word);l=e<10?l+"[00"+e.toString()+"]\n":e<100?l+"[0"+e.toString()+"]\n":l+"["+e.toString()+"]\n"}if("E"==e){let e=l1l11(guesses[t],word);l+=unicode[Math.floor(e/100)],l=(l+=unicode[Math.floor(e%100/10)])+unicode[e%10]+" \n"}}0==row&&(row=8),l+="\nhttps://www.word500.com";let n="Word500, ";n+="A"==level?"Standard, ":"B"==level?"Standard+, ":"Advanced, ",t=hintsUsed>0?"LOSS":row<8?row.toString()+"/8":500==l1l11(guesses[7],word)?"8/8":"LOSS";let o=new Date;n=n+o.getUTCDate()+"-"+months[o.getUTCMonth()]+"-"+o.getFullYear()+"\n",n=0==hintsUsed?n+"No hints used, score = "+t+"\n":n+hintsUsed.toString()+" hints used, score = LOSS\n",navigator.clipboard.writeText(n+l),sm("Results copied!")}setInterval(cd,1e3);var up=function(e,t){t=t||window;var l=new RegExp("[&|?]"+e+"=([^&#]+)"),n=t.location.search.match(l);return n?n[1]:""};